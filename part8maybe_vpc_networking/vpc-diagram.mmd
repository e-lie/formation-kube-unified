graph TB
    subgraph Region[AWS Region eu-west-3 - Paris]
        subgraph VPC[VPC - 10.0.0.0/16]
            subgraph AZ1[Availability Zone A]
                subgraph PublicSubnet1[Public Subnet<br/>10.0.1.0/24]
                    EC2_Public1[EC2 Instance<br/>Web Server<br/>10.0.1.10]
                    NAT1[NAT Gateway<br/>10.0.1.5]
                end
                subgraph PrivateSubnet1[Private Subnet<br/>10.0.11.0/24]
                    EC2_Private1[EC2 Instance<br/>Database<br/>10.0.11.10]
                end
            end
            
            subgraph AZ2[Availability Zone B]
                subgraph PublicSubnet2[Public Subnet<br/>10.0.2.0/24]
                    EC2_Public2[EC2 Instance<br/>Web Server<br/>10.0.2.10]
                    NAT2[NAT Gateway<br/>10.0.2.5]
                end
                subgraph PrivateSubnet2[Private Subnet<br/>10.0.12.0/24]
                    EC2_Private2[EC2 Instance<br/>Database<br/>10.0.12.10]
                end
            end
            
            IGW[Internet Gateway]
            
            subgraph RouteTablePublic[Route Table Public]
                Route1[0.0.0.0/0 → IGW]
                Route2[10.0.0.0/16 → Local]
            end
            
            subgraph RouteTablePrivate1[Route Table Private AZ-A]
                Route3[0.0.0.0/0 → NAT1]
                Route4[10.0.0.0/16 → Local]
            end
            
            subgraph RouteTablePrivate2[Route Table Private AZ-B]
                Route5[0.0.0.0/0 → NAT2]
                Route6[10.0.0.0/16 → Local]
            end
        end
    end
    
    Internet[Internet]
    
    Internet -.-> IGW
    IGW -.-> PublicSubnet1
    IGW -.-> PublicSubnet2
    
    PublicSubnet1 --> RouteTablePublic
    PublicSubnet2 --> RouteTablePublic
    
    PrivateSubnet1 --> RouteTablePrivate1
    PrivateSubnet2 --> RouteTablePrivate2
    
    EC2_Private1 -.->|via NAT| NAT1
    EC2_Private2 -.->|via NAT| NAT2
    
    NAT1 -.-> IGW
    NAT2 -.-> IGW
    
    classDef vpc fill:#e8f4fd,stroke:#1e88e5,stroke-width:3px
    classDef public fill:#c8e6c9,stroke:#43a047,stroke-width:2px
    classDef private fill:#ffccbc,stroke:#e64a19,stroke-width:2px
    classDef instance fill:#fff3e0,stroke:#fb8c00,stroke-width:2px
    classDef gateway fill:#e1bee7,stroke:#8e24aa,stroke-width:2px
    classDef route fill:#f8bbd0,stroke:#c2185b,stroke-width:2px
    
    class VPC vpc
    class PublicSubnet1,PublicSubnet2 public
    class PrivateSubnet1,PrivateSubnet2 private
    class EC2_Public1,EC2_Public2,EC2_Private1,EC2_Private2 instance
    class IGW,NAT1,NAT2 gateway
    class RouteTablePublic,RouteTablePrivate1,RouteTablePrivate2 route